<?xml version="1.0"?>
<!--
/**
 * Copyright Â© Soft Commerce Ltd. All rights reserved.
 * See LICENSE.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">

    <!-- Console Commands -->
    <type name="Magento\Framework\Console\CommandList">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="faker_generate_customers" xsi:type="object">Byte8\FakerSuite\Console\Command\GenerateCustomersCommand</item>
                <item name="faker_generate_orders" xsi:type="object">Byte8\FakerSuite\Console\Command\GenerateOrdersCommand</item>
            </argument>
        </arguments>
    </type>

    <!-- API Interfaces -->
    <preference for="Byte8\FakerSuite\Api\Generator\CustomerGeneratorInterface"
                type="Byte8\FakerSuite\Model\Generator\CustomerGenerator"/>

    <preference for="Byte8\FakerSuite\Api\Generator\OrderGeneratorInterface"
                type="Byte8\FakerSuite\Model\Generator\OrderGenerator"/>

    <preference for="Byte8\FakerSuite\Api\Data\GeneratorConfigInterface"
                type="Byte8\FakerSuite\Model\Data\GeneratorConfig"/>

    <preference for="Byte8\FakerSuite\Api\Data\GeneratorResultInterface"
                type="Byte8\FakerSuite\Model\Data\GeneratorResult"/>

    <!-- Virtual Types -->
    <virtualType name="Byte8\FakerSuite\Model\Logger" type="Magento\Framework\Logger\Monolog">
        <arguments>
            <argument name="name" xsi:type="string">faker_suite</argument>
            <argument name="handlers" xsi:type="array">
                <item name="system" xsi:type="object">Byte8\FakerSuite\Model\Logger\Handler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="Byte8\FakerSuite\Model\Logger\Handler" type="Magento\Framework\Logger\Handler\Base">
        <arguments>
            <argument name="fileName" xsi:type="string">/var/log/faker_suite.log</argument>
        </arguments>
    </virtualType>

    <!-- Generator Types -->
    <type name="Byte8\FakerSuite\Model\Generator\CustomerGenerator">
        <arguments>
            <argument name="logger" xsi:type="object">Byte8\FakerSuite\Model\Logger</argument>
        </arguments>
    </type>

    <type name="Byte8\FakerSuite\Model\Generator\OrderGenerator">
        <arguments>
            <argument name="logger" xsi:type="object">Byte8\FakerSuite\Model\Logger</argument>
        </arguments>
    </type>

    <!-- Data Providers -->
    <type name="Byte8\FakerSuite\Model\DataProvider\AddressProvider">
        <arguments>
            <argument name="phoneProvider" xsi:type="object">Byte8\FakerSuite\Model\DataProvider\PhoneProvider</argument>
        </arguments>
    </type>
</config>
